# Environment Variables Template
# Copy these files and fill in your actual values

# ============================================
# SERVER/.env
# ============================================
# Database Configuration
# Use PgBouncer connection string for connection pooling (recommended)
DATABASE_URL=postgresql://user:password@localhost:6432/scalpingbot
# Direct PostgreSQL connection (for migrations only)
PGDIRECT_URL=postgresql://user:password@localhost:5432/scalpingbot

# Or use Supabase connection string (via PgBouncer if local, or direct)
# DATABASE_URL=postgresql://user:password@db.supabase.co:5432/scalpingbot
# For Supabase, you can use direct connection or set up PgBouncer locally

# Firebase Admin SDK Configuration
# Get these from Firebase Console > Project Settings > Service Accounts
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com

# Server Configuration
PORT=5500
NODE_ENV=production

# MT5 API Service URL (internal, don't expose publicly)
MT5_API_URL=http://localhost:5001

# Trading Engine API Configuration
# API key for trading engines to authenticate with backend
TRADING_ENGINE_API_KEY=your-secure-api-key-here-change-this-in-production
TRADING_ENGINE_API_URL=http://localhost:5500

# Optional: Allow anonymous users (default: true)
# ALLOW_ANONYMOUS_USERS=false

# Health Check URL (for monitoring)
HEALTH_CHECK_URL=http://localhost:5500/api/v1/health

# ============================================
# UI/.env.production
# ============================================
# API URL - Use your domain or API subdomain
VITE_API_URL=https://yourdomain.com/api
# Or if using separate API subdomain:
# VITE_API_URL=https://api.yourdomain.com

# Firebase Emulator (should be false in production)
VITE_USE_FIREBASE_EMULATOR=false

# ============================================
# TRADING-ENGINE/.env
# Note: Individual trading engine instances are managed by trading-engine-manager.js
# This template is for reference. The manager sets environment variables dynamically.
# ============================================
# MT5 API Service Configuration
MT5_API_PORT=5001
MT5_API_HOST=127.0.0.1
DEBUG=false

# MT5 Terminal Path (if MT5 is installed on VPS)
# Windows path example: C:\Program Files\MetaTrader 5\terminal64.exe
# Linux path example: /opt/mt5/terminal64.exe
MT5_TERMINAL_PATH=/opt/mt5/terminal64.exe

# Database Configuration (via PgBouncer for connection pooling)
# Use PgBouncer port 6432 (not direct PostgreSQL port 5432)
DATABASE_URL=postgresql://user:password@localhost:6432/scalpingbot

# Trading Engine API Configuration (set by manager for each instance)
# TRADING_ENGINE_API_URL=http://localhost:5500
# TRADING_ENGINE_API_KEY=your-secure-api-key-here
# TRADING_ENGINE_USER_ID=<set-by-manager>
# TRADING_ENGINE_MT5_ACCOUNT_ID=<set-by-manager>

# Trading Configuration (from config/config.yaml)
# These can also be set here or in config.yaml
MT5_SYMBOL=XAUUSD
# RISK_PERCENTAGE=1.0

# Resource Limits (for PM2)
# Memory limit per trading engine instance (default: 1G)
MAX_MEMORY_RESTART=1G
# Minimum uptime before considering process stable (default: 10s)
MIN_UPTIME=10s
# Maximum restarts before giving up (default: 10)
MAX_RESTARTS=10
# Delay between restarts (default: 5000ms)
RESTART_DELAY=5000

